# 汽车租赁

### 汽车租赁系统计价功能：
需求描述：   
某汽车租赁公司出租多种轿车和客车，出租费用以日为单位计算；   
```
           出租车型及信息如表所示：
车型        具体信息           日租金（元）        折扣
         宝马（京NY28588889）     800         	 days>7 9折
         宝马（京CNY3284889）     600            days>30 8折
         别克（京NT37465999）     300            days>150 7折
轿车     
         别克GL8（京NT96968999）  600


       金杯，16座（京6566754111） 800      		days>3 9折
 客车  金龙，16座（京8696997111） 800      		days>7 8折
       金杯，34座（京9696996111） 1500     		days>30 7折
       金龙，34座（京8696998111） 1500     		days>=150 6折
```
轿车的日租金是根据轿车的品牌型号而制订的；   
客车的日租金和座位数有关系；     

采用面向对象的方法开发程序，关键是面向对象设计，识别类是面向对象的第一步；要想实现功能，首先要看功能需求中有哪些对象，再将这些具有相同属性和共同行为的对象抽取成类；    
那么在这个功能中，很明显我们可以抽取出轿车类和客车类。轿车，客车都是名词，所以对识别类还有个比较常用的识别方法，就是寻找需求描述中的名称，对找到的名词，进行筛选，剔除无关、不重要的词语，抽象出类，确定类的属性，然后通过找出动词的方式确定类的方法，再对确定的类及方法进行优化设计，最后梳理运行过程。   
##### 那么这五项就是面向对象设计的步骤；


首先，根据需求的描述，找出问题中的名称；    
某汽车租赁公司，汽车，轿车，客车，金杯，金龙，别克，林荫大道，X6，GL8，日租金，座位数，折扣，宝马，550i，
京6566754111等车牌号；    

名词找到后，进行词语筛选，剔除无关、不重要的词语，抽象出类。   
因为只有一家汽车租赁公司，而且在计算租赁价时不需要该属性来标记汽车，剔除该名词；轿车和客车是两个常用的类，汽车可以作为两者的父类设计，也就是汽车类；    
别克，宝马，金杯，金龙是汽车的品牌，可以作为汽车类的属性品牌的值更合理；X6,550i，GL8,林荫大道是轿车的型号，可以作为轿车类的属性型号的值；京NY28588等是汽车的车牌号，可以作为汽车类的属性车牌号的值；16座，34座可作为客车的属性座位数的值；日租金可以作为汽车对象的属性；折扣属于计算出租费用的业务内容，剔除该名词；      
汽车有租赁业务，所以还要有个汽车业务类，主要负责公司汽车的租赁；最后还要有个汽车租赁管理类，程序的入口（main方法）；     

通过对名词的筛选，确定了类以及类的属性；      
汽车类 的属性 有 车牌号，品牌、日租金；     
客车类 具有父类汽车类的属性，还有座位数属性；     
轿车类 具有父类汽车类的属性，同时轿车的日租金和轿车型号有关，所以要有型号的属性；      
汽车业务类，主要是租赁业务，忽略属性；     
汽车租赁管理类主要是程序入口，这里也忽略属性；     

再来找出问题中的动词，确定类的方法；    
问题中有两个动词：计算租金和租赁；     
每种类型汽车的计算租金的折扣是不一样的，所以将计算租金这个方法设计为父类的方法，取名为 
calRent(int days) 方法；        
子类轿车和客车根据租赁的天数计算打折的标准不同，分别重写父类的方法。那么在租赁汽车时，轿车的日租金和品牌、型号有关，客户需要提供所需租赁汽车的品牌和型号；        
客车的日租金和座位数有关，需要客户提供所需租赁汽车的品牌和座位数，所以租赁不同类型的汽车的流程是不一样的；
虽然需求里没有显示“租赁流程”这个动词，但经过分析，还是需要这个过程的，     
所以将租赁流程的方法设计为父类的方法，取名为leaseOutFlow()方法，主要负责提供汽车的信息供客户选择，以此来确定所要租赁的汽车的具体信息。    
子类轿车和客车重写父类的方法；    
再来看租赁这个动词，客户在租赁时，系统根据客户的选择类型来决定是租赁轿车还是客车，属于租赁的业务，所以将租赁方法设计为汽车业务类的方法；    
取名为 motoLeaseOut(String motoType)   
此方法会得到一个具体的汽车对象，所以返回汽车类型MotoVehicle;   
最后我们再将汽车租赁管理类设计一个程序入口的方法，   
用来显示用户界面以及信息输出；    

类，类的属性，类的方法确定后，下一步就针对系统所需要的类进行优化设计；   
##### 优化设计分为两部分： 设计类 设计方法
汽车类没有实例化的意义，所以，将汽车类设计为抽象类；   
每种类型的汽车计算租金的标准是不一样的，所以将计算租金设计为抽象方法；同时每种类型的汽车租赁流程是不同的，所以将租赁流程也设计为抽象方法；    
这个步骤完成后，汽车租赁计价功能的系统类就设计完整了；    


##### 类的关系图：
```
               MotoOperation

 +motoLeaseOut(int motoType:String):MotoVehicle


              MotoVehicle        //类名
-vehicleId:String               //属性
-brand:String
-perRent:String

+calRent(int days : int) : float    //方法
+leaseOutFlow()

Car                               Bus
-type:String                   -seatCount:int
```
Car类和Bus类继承自MotoVehicle类；   
汽车业务类MotoOperation 依赖汽车类MotoVehicle；   

最后一个步骤：     
就是梳理运行过程，然后再根据设计结果编写程序；    


